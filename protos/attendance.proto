syntax = "proto3";
option csharp_namespace = "gs_server.Protobufs";

import "gs_protobufs/protos/calendar_date.proto";

package gs_protobufs.attendance;
service AttendanceService {
  rpc GetPaginated(GetPaginatedAttendancesRequest) returns (GetPaginatedAttendancesResponse);
  rpc GetById(GetAttendanceByIdRequest) returns (GetAttendanceByIdResponse);
  rpc Post(CreateAttendanceRequest) returns (CreateAttendanceResponse);
  rpc Put(UpdateAttendanceRequest) returns (UpdateAttendanceResponse);
  rpc Delete(DeleteAttendanceRequest) returns (DeleteAttendanceResponse);
}

message GetPaginatedAttendancesRequest {
  int32 cursor = 1;
}

message GetPaginatedAttendancesResponse {
  repeated GetAttendanceByIdResponse attendances = 1;
  int32 next_cursor = 2;
}

message GetAttendanceByIdRequest {
  int32 attendance_id = 1;
}

message GetAttendanceByIdResponse {
  int32 attendance_id = 1;
  int32 discipline_id = 2;
  gs_protobufs.calendar_date.CalendarDate date = 3;
  int32 present_student_ids = 4;
  int32 absent_student_ids = 5;
  string observations = 6;
}

message CreateAttendanceRequest {
  int32 discipline_id = 2;
  gs_protobufs.calendar_date.CalendarDate date = 3;
  int32 present_student_ids = 4;
  int32 absent_student_ids = 5;
  string observations = 6;
}

message CreateAttendanceResponse {}

message UpdateAttendanceRequest {
  int32 attendance_id = 1;
  int32 discipline_id = 2;
  gs_protobufs.calendar_date.CalendarDate date = 3;
  int32 present_student_ids = 4;
  int32 absent_student_ids = 5;
  string observations = 6;
}

message UpdateAttendanceResponse {}

message DeleteAttendanceRequest {
  int32 attendance_id = 1;
}

message DeleteAttendanceResponse {}
